<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Python åˆ†å‘ç«™ â€” ä¸“ä¸šä¸‹è½½ï¼ˆå¢å¼ºç§‘æŠ€æ„Ÿç‰ˆï¼‰</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
<!-- JSZip for real zip packaging -->
<script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
<style>
  :root{
    /* å¢å¼ºç§‘æŠ€æ„Ÿçš„æ·±è‰²é…è‰²æ–¹æ¡ˆ */
    --bg-start: #0f172a; /* æ·±è“ */
    --bg-end: #020617;   /* æ›´æ·±çš„è“é»‘ */
    --card-bg: rgba(30, 41, 59, 0.6); /* æ·±è“ç°å¡ç‰‡èƒŒæ™¯ï¼Œå¸¦é€æ˜åº¦ */
    --muted: #94a3b8; /* æŸ”å’Œçš„ç°è“ */
    --accent: #60a5fa; /* æ˜äº®çš„è“è‰²ä½œä¸ºä¸»è‰² */
    --accent-hover: #3b82f6; /* æ‚¬åœæ—¶æ›´æ·±çš„è“è‰² */
    --primary-text: #f1f5f9; /* å‡ ä¹ç™½è‰²çš„æ–‡å­— */
    --secondary-text: #cbd5e1; /* æ¬¡çº§æ–‡å­—ï¼Œç¨æš— */
    --border-color: rgba(148, 163, 184, 0.1); /* æŸ”å’Œçš„è¾¹æ¡† */
    --shadow-color: rgba(0, 0, 0, 0.3); /* æ›´æ·±çš„é˜´å½± */
    --glass-border: rgba(255, 255, 255, 0.05); /* ææ·¡çš„ç»ç’ƒé«˜å…‰ */
    --glass-shadow: 0 10px 25px 0 rgba(0, 0, 0, 0.5); /* æ›´æ·±çš„ç»ç’ƒé˜´å½± */
    --backdrop-filter: blur(12px); /* ç¨å¾®åŠ å¼ºæ¨¡ç³Š */
    --gradient-start: #4f46e5; /* ç´«è‰² */
    --gradient-end: #06b6d4; /* é’è‰² */

    /* Typography */
    --mono:'Roboto Mono', monospace;
    --ui:'Inter', system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;

    /* Spacing & Sizing */
    --radius: 16px;
    --radius-sm: 10px;
    --spacing-xs: 6px;
    --spacing-sm: 12px;
    --spacing-md: 20px;
    --spacing-lg: 32px;
  }

  * {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    font-family: var(--ui);
    background: linear-gradient(180deg, var(--bg-start), var(--bg-end));
    color: var(--primary-text);
    -webkit-font-smoothing: antialiased;
    min-height: 100vh;
    padding: var(--spacing-md);
    /* æ·»åŠ å¾®å¦™çš„èƒŒæ™¯çº¹ç†æˆ–æ¸å˜å¢å¼ºç§‘æŠ€æ„Ÿ */
    background-image: radial-gradient(circle at 10% 20%, rgba(96, 165, 250, 0.05) 0%, transparent 20%),
                      radial-gradient(circle at 90% 80%, rgba(6, 182, 212, 0.05) 0%, transparent 20%);
  }

  .container {
    width: 100%;
    min-width: 320px;
    max-width: 1400px;
    margin: var(--spacing-lg) auto;
    padding: var(--spacing-md);
  }

  /* Header with Enhanced Glass Effect and Glow */
  header {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    padding: var(--spacing-md);
    border-radius: var(--radius);
    backdrop-filter: var(--backdrop-filter);
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    box-shadow: var(--glass-shadow);
    position: relative;
    overflow: hidden;
    width: 100%;
    /* æ·»åŠ å‘å…‰è¾¹æ¡† */
    box-shadow: 0 0 15px rgba(96, 165, 250, 0.2), var(--glass-shadow);
  }
  header::before {
    content: "";
    position: absolute;
    top: 0; right: 0; bottom: 0; left: 0;
    border-radius: var(--radius);
    pointer-events: none;
    border: 1px solid var(--glass-border);
    z-index: 1;
  }
  header > * { position: relative; z-index: 2; }

  .logo {
    width: 56px;
    height: 56px;
    border-radius: calc(var(--radius) - 2px);
    /* ä½¿ç”¨æ›´é…·çš„æ¸å˜å’Œå‘å…‰æ•ˆæœ */
    background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-weight: 800;
    font-size: 20px;
    box-shadow: 
      inset 0 -8px 18px rgba(255, 255, 255, 0.15),
      0 0 20px rgba(96, 165, 250, 0.5); /* å‘å…‰ */
    flex-shrink: 0;
  }

  .title {
    flex-grow: 1;
    min-width: 0;
  }

  .title h1 {
    margin: 0;
    font-size: 20px;
    font-weight: 700;
    color: var(--primary-text);
    word-break: break-word;
  }

  .title p {
    margin: var(--spacing-xs) 0 0;
    color: var(--secondary-text);
    font-size: 14px;
    line-height: 1.5;
    word-break: break-word;
  }

  .tools {
    display: flex;
    gap: var(--spacing-sm);
    align-items: center;
    flex-wrap: wrap;
    justify-content: flex-end;
    min-width: 200px;
  }

  /* Responsive adjustments for header */
  @media (max-width: 768px) {
    header {
        flex-direction: column;
        text-align: center;
    }
    .tools {
        margin-left: 0;
        justify-content: center;
        margin-top: var(--spacing-sm);
        width: 100%;
    }
    .title p {
        font-size: 13px;
    }
  }

  /* Enhanced Buttons with Glow and Gradient */
  .btn {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: 10px 18px;
    border-radius: 100px;
    border: none;
    background: var(--card-bg);
    color: var(--primary-text);
    font-weight: 600;
    font-size: 15px;
    cursor: pointer;
    transition: all 0.25s ease;
    box-shadow: 
      0 2px 6px var(--shadow-color),
      inset 0 0 0 1px var(--border-color);
    backdrop-filter: var(--backdrop-filter);
    position: relative;
    overflow: hidden;
    white-space: nowrap;
  }
  .btn:hover {
    background: rgba(51, 65, 85, 0.75);
    transform: translateY(-2px);
    box-shadow: 
      0 6px 15px rgba(0, 0, 0, 0.2),
      inset 0 0 0 1px var(--border-color);
  }
  .btn:active {
    transform: translateY(0);
    box-shadow: 
      0 1px 4px var(--shadow-color),
      inset 0 0 0 1px var(--border-color);
  }

  .btn.primary {
    /* ä½¿ç”¨æ›´å¸å¼•äººçš„æ¸å˜ */
    background: linear-gradient(90deg, var(--gradient-start), var(--gradient-end));
    color: #fff;
    /* æ·»åŠ å‘å…‰æ•ˆæœ */
    box-shadow: 
      0 4px 15px rgba(79, 70, 229, 0.4),
      inset 0 1px 1px rgba(255, 255, 255, 0.2);
  }
  .btn.primary:hover {
    background: linear-gradient(90deg, #4338ca, #0891b2); /* ç¨å¾®æ·±ä¸€ç‚¹çš„æ¸å˜ */
    box-shadow: 
      0 6px 20px rgba(79, 70, 229, 0.6),
      inset 0 1px 1px rgba(255, 255, 255, 0.2);
    transform: translateY(-2px) scale(1.02);
  }
  .btn.primary:active {
    background: linear-gradient(90deg, var(--gradient-start), var(--gradient-end));
    box-shadow: 
      0 2px 8px rgba(79, 70, 229, 0.3),
      inset 0 1px 2px rgba(0, 0, 0, 0.1);
    transform: translateY(0) scale(0.98);
  }

  .btn.ghost {
    background: transparent;
    box-shadow: inset 0 0 0 1px var(--border-color);
    color: var(--accent);
  }
  .btn.ghost:hover {
    background: rgba(96, 165, 250, 0.1);
    box-shadow: inset 0 0 0 1px var(--accent);
  }

  /* Controls */
  .controls {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-sm);
    align-items: center;
    margin-top: var(--spacing-md);
    padding: var(--spacing-sm);
    border-radius: var(--radius-sm);
    backdrop-filter: var(--backdrop-filter);
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    box-shadow: var(--glass-shadow);
    width: 100%;
  }

  .search {
    flex: 1;
    min-width: 200px;
    display: flex;
    gap: var(--spacing-sm);
    align-items: center;
  }

  input[type="search"] {
    width: 100%;
    padding: 12px 16px;
    border-radius: 100px;
    border: 1px solid var(--border-color);
    background: rgba(15, 23, 42, 0.5); /* æ›´æ·±çš„èƒŒæ™¯ */
    color: var(--primary-text);
    font-size: 15px;
    font-family: var(--ui);
    box-shadow: inset 0 1px 3px var(--shadow-color);
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
  }
  input[type="search"]:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: inset 0 1px 3px var(--shadow-color), 0 0 0 2px rgba(96, 165, 250, 0.3);
  }
  /* å ä½ç¬¦é¢œè‰² */
  input[type="search"]::placeholder {
    color: var(--muted);
  }


  select {
    padding: 11px 14px;
    border-radius: 100px;
    border: 1px solid var(--border-color);
    background: rgba(15, 23, 42, 0.5);
    color: var(--primary-text);
    font-size: 15px;
    font-family: var(--ui);
    box-shadow: inset 0 1px 3px var(--shadow-color);
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%2394a3b8' d='M6 8.586L2.707 5.293a1 1 0 00-1.414 1.414l4 4a1 1 0 001.414 0l4-4a1 1 0 00-1.414-1.414L6 8.586z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 14px center;
    padding-right: 36px;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
    min-width: 120px;
  }
  select:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: inset 0 1px 3px var(--shadow-color), 0 0 0 2px rgba(96, 165, 250, 0.3);
  }

  /* Grid */
  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: var(--spacing-md);
    margin-top: var(--spacing-md);
    width: 100%;
  }

  /* Card with Enhanced Glass Effect and Glow */
  .card {
    background: var(--card-bg);
    border-radius: var(--radius);
    padding: var(--spacing-md);
    border: 1px solid var(--border-color);
    box-shadow: var(--glass-shadow);
    display: flex;
    flex-direction: column;
    min-height: 180px;
    position: relative;
    overflow: hidden;
    transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;
    width: 100%;
    /* æ·»åŠ æ‚¬åœæ—¶çš„å‘å…‰æ•ˆæœ */
  }
  .card:hover {
    transform: translateY(-3px);
    box-shadow: 
      0 15px 35px rgba(0, 0, 0, 0.25),
      0 0 15px rgba(96, 165, 250, 0.1),
      0 0 0 1px var(--border-color);
    border-color: rgba(96, 165, 250, 0.3);
  }
  .card::before {
    content: "";
    position: absolute;
    top: 0; right: 0; bottom: 0; left: 0;
    border-radius: var(--radius);
    pointer-events: none;
    border: 1px solid var(--glass-border);
    z-index: 1;
  }
  .card > * { position: relative; z-index: 2; }

  .meta {
    display: flex;
    align-items: flex-start;
    gap: var(--spacing-md);
  }

  .tag {
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.1), rgba(240, 245, 255, 0.05));
    padding: 7px 12px;
    border-radius: 100px;
    font-weight: 700;
    color: var(--accent);
    font-size: 13px;
    border: 1px solid var(--border-color);
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.2);
    flex-shrink: 0;
  }

  .name {
    font-weight: 700;
    margin: 0;
    font-size: 18px;
    color: var(--primary-text);
    word-break: break-word;
  }

  .desc {
    color: var(--secondary-text);
    font-size: 14px;
    margin: var(--spacing-xs) 0 0;
    line-height: 1.5;
    word-break: break-word;
  }

  .foot {
    display: flex;
    align-items: center;
    margin-top: auto;
    gap: var(--spacing-sm);
    padding-top: var(--spacing-sm);
    border-top: 1px solid var(--border-color);
  }

  .pill {
    font-family: var(--mono);
    background: rgba(30, 41, 59, 0.7);
    padding: 6px 10px;
    border-radius: 6px;
    font-size: 12px;
    color: var(--muted);
    border: 1px solid var(--border-color);
    white-space: nowrap;
  }

  .small {
    color: var(--muted);
    font-size: 13px;
  }

  .card .actions {
    margin-left: auto;
    display: flex;
    gap: var(--spacing-xs);
    flex-shrink: 0;
  }

  .count {
    font-size: 13px;
    color: var(--muted);
    align-self: center;
  }

  /* Modal */
  .modal-wrap {
    position: fixed;
    inset: 0;
    display: none;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.4);
    z-index: 1200;
    backdrop-filter: blur(5px);
  }

  .modal {
    width: 94%;
    max-width: 1000px;
    border-radius: var(--radius);
    padding: var(--spacing-md);
    background: rgba(15, 23, 42, 0.9);
    color: var(--primary-text);
    box-shadow: 
      0 25px 50px -12px rgba(0, 0, 0, 0.5),
      inset 0 0 0 1px var(--border-color);
    backdrop-filter: var(--backdrop-filter);
    display: flex;
    flex-direction: column;
    max-height: 88vh;
    border: 1px solid var(--border-color);
  }

  .modal .meta {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-sm);
    padding-bottom: var(--spacing-sm);
    border-bottom: 1px solid var(--border-color);
  }

  .close {
    margin-left: auto;
    background: transparent;
    border: 1px solid var(--border-color);
    padding: 8px 14px;
    border-radius: 6px;
    color: var(--primary-text);
    cursor: pointer;
    font-weight: 500;
    transition: background-color 0.2s ease;
    font-size: 14px;
  }
  .close:hover {
    background: rgba(51, 65, 85, 0.5);
  }

  pre {
    background: rgba(15, 23, 42, 0.7);
    padding: var(--spacing-md);
    border-radius: var(--radius-sm);
    overflow: auto;
    font-family: var(--mono);
    font-size: 14px;
    flex-grow: 1;
    margin: 0;
    border: 1px solid var(--border-color);
    box-shadow: inset 0 2px 4px var(--shadow-color);
    color: var(--primary-text);
  }

  /* Toast */
  .copy-toast {
    position: fixed;
    right: var(--spacing-lg);
    bottom: var(--spacing-lg);
    background: rgba(15, 23, 42, 0.95);
    color: var(--accent);
    padding: 12px 18px;
    border-radius: 12px;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
    display: none;
    z-index: 1300;
    font-size: 15px;
    backdrop-filter: var(--backdrop-filter);
    border: 1px solid var(--border-color);
  }

  footer {
    margin-top: var(--spacing-lg);
    text-align: center;
    color: var(--muted);
    font-size: 14px;
    padding: var(--spacing-sm);
    width: 100%;
  }

  /* Login/Register Modal */
  .auth-modal {
    display: none;
    position: fixed;
    z-index: 1300;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.6);
    backdrop-filter: blur(5px);
  }

  .auth-modal-content {
    background-color: var(--card-bg);
    margin: 15% auto;
    padding: 20px;
    border: 1px solid var(--border-color);
    border-radius: var(--radius);
    box-shadow: var(--glass-shadow);
    width: 90%;
    max-width: 400px;
    backdrop-filter: var(--backdrop-filter);
  }

  .auth-modal-content h2 {
    margin-top: 0;
    text-align: center;
  }

  .auth-form {
    display: flex;
    flex-direction: column;
    gap: 15px;
  }

  .auth-form input {
    padding: 12px;
    border-radius: var(--radius-sm);
    border: 1px solid var(--border-color);
    background: rgba(15, 23, 42, 0.5);
    color: var(--primary-text);
    font-size: 15px;
    font-family: var(--ui);
    box-shadow: inset 0 1px 3px var(--shadow-color);
  }

  .auth-form input:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: inset 0 1px 3px var(--shadow-color), 0 0 0 2px rgba(96, 165, 250, 0.3);
  }

  .auth-form button {
    padding: 12px;
    border: none;
    border-radius: var(--radius-sm);
    background: linear-gradient(90deg, var(--gradient-start), var(--gradient-end));
    color: white;
    font-weight: 600;
    font-size: 16px;
    cursor: pointer;
    transition: background 0.2s ease, transform 0.1s ease, box-shadow 0.2s ease;
    box-shadow: 0 4px 10px rgba(79, 70, 229, 0.3);
  }

  .auth-form button:hover {
    background: linear-gradient(90deg, #4338ca, #0891b2);
    box-shadow: 0 6px 15px rgba(79, 70, 229, 0.4);
    transform: translateY(-2px);
  }
  .auth-form button:active {
    transform: translateY(0);
    box-shadow: 0 2px 5px rgba(79, 70, 229, 0.2);
  }


  .auth-toggle {
    text-align: center;
    margin-top: 10px;
    font-size: 14px;
  }

  .auth-toggle a {
    color: var(--accent);
    text-decoration: none;
    cursor: pointer;
    font-weight: 600;
  }

  .auth-toggle a:hover {
    text-decoration: underline;
  }

  .user-info {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .user-info span {
    font-weight: 600;
  }

  .logout-btn {
    padding: 8px 12px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    transition: background 0.2s ease;
    color: var(--primary-text);
  }

  .logout-btn:hover {
    background: rgba(239, 68, 68, 0.1);
    border-color: rgba(239, 68, 68, 0.5);
  }

</style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">Py</div>
      <div class="title">
        <h1>Python åˆ†å‘ç«™ Â· ä¸“ä¸šä¸‹è½½</h1>
        <p>èåˆ Windows7 æ‰‹æ„Ÿã€Apple è´¨æ„Ÿä¸å¼€å‘è€…å‹å¥½ï¼Œå•æ–‡ä»¶é™æ€é¡µé¢åˆ†å‘è„šæœ¬/å®‰è£…åŒ…ã€‚</p>
      </div>
      <div class="tools" role="toolbar" aria-label="site tools">
        <button class="btn primary" id="downloadAllBtn">ä¸‹è½½å…¨éƒ¨ (zip)</button>
        <button class="btn" id="refreshBtn">åˆ·æ–°åˆ—è¡¨</button>
        <button class="btn ghost" id="readmeBtn">è¯´æ˜</button>
        <!-- User Authentication Buttons -->
        <div id="authButtons">
            <button class="btn" id="loginBtn">ç™»å½•</button>
            <button class="btn" id="registerBtn">æ³¨å†Œ</button>
        </div>
        <!-- User Info (shown when logged in) -->
        <div id="userInfo" class="user-info" style="display: none;">
            <span id="usernameDisplay"></span>
            <button class="logout-btn" id="logoutBtn">ç™»å‡º</button>
        </div>
      </div>
    </header>

    <div class="controls">
      <div class="search">
        <input type="search" id="search" placeholder="æœç´¢æ–‡ä»¶åã€æè¿°æˆ–å¹³å°ï¼ˆå›è½¦æœç´¢ï¼‰" />
      </div>
      <select id="filter">
        <option value="all">å…¨éƒ¨ç±»å‹</option>
        <option value="script">è„šæœ¬ (.py)</option>
        <option value="binary">äºŒè¿›åˆ¶/å®‰è£…åŒ…</option>
      </select>
      <select id="sort">
        <option value="name">æŒ‰åç§°</option>
        <option value="size">æŒ‰å¤§å°</option>
        <option value="downloads">æŒ‰ä¸‹è½½é‡</option>
      </select>
    </div>

    <main class="grid" id="grid" aria-live="polite"></main>

    <footer>å°†æ­¤æ–‡ä»¶æ”¾åˆ°é™æ€ä¸»æœºæˆ– GitHub Pagesã€‚è‹¥éœ€è¦çœŸå®äºŒè¿›åˆ¶åˆ†å‘ï¼Œè¯·æ›¿æ¢æ–‡ä»¶ url æŒ‡å‘å®é™…æ–‡ä»¶ã€‚</footer>
  </div>

  <!-- modal preview -->
  <div class="modal-wrap" id="modal">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modTitle">
      <div class="meta">
        <div>
          <strong id="modTitle">é¢„è§ˆ</strong>
          <span id="modName" class="pill" style="margin-left:8px"></span>
        </div>
        <div style="margin-left:auto;display:flex;gap:8px;flex-wrap:wrap;">
          <button class="btn" id="modDownload">ä¸‹è½½</button>
          <button class="btn" id="modCopy">å¤åˆ¶</button>
          <button class="close" id="modClose">å…³é—­</button>
        </div>
      </div>
      <pre id="modContent" tabindex="0"></pre>
    </div>
  </div>

  <!-- Login/Register Modal -->
  <div id="authModal" class="auth-modal">
    <div class="auth-modal-content">
      <span class="close" id="authClose">&times;</span>
      <h2 id="authModalTitle">ç”¨æˆ·ç™»å½•</h2>
      <form class="auth-form" id="authForm">
        <input type="text" id="authUsername" placeholder="ç”¨æˆ·å" required>
        <input type="password" id="authPassword" placeholder="å¯†ç " required>
        <div id="authMessage" style="color: #f87171; font-size: 14px; min-height: 20px;"></div>
        <button type="submit" id="authSubmitBtn">ç™»å½•</button>
      </form>
      <div class="auth-toggle">
        <span>è¿˜æ²¡æœ‰è´¦æˆ·? <a id="toggleAuthMode">ç«‹å³æ³¨å†Œ</a></span>
      </div>
    </div>
  </div>

  <div class="copy-toast" id="toast">å·²å¤åˆ¶åˆ°å‰ªè´´æ¿</div>

<script>
/* ---------------------- ç®€æ´ã€æ¨¡å—åŒ–çš„æ•°æ®ä¸å·¥å…· ---------------------- */

/* å†…ç½®èµ„æºï¼šæŠŠè„šæœ¬æˆ–å°äºŒè¿›åˆ¶å…ƒæ•°æ®æ”¾ä¸Šæ¥ã€‚å¦‚æœè¦åˆ†å‘çœŸå®çš„å®‰è£…åŒ…ï¼Œå¯æŠŠ url æŒ‡å‘æ‰˜ç®¡å¥½çš„æ–‡ä»¶ */
const FILES = [
  {
    name: "ç»¿æ¢µAI.py",
    type: "script",
    platform: "Windows/Linux/macOS",
    desc: "tkinter + selenium è‡ªåŠ¨åŒ–èŠå¤©è„šæœ¬ï¼ˆå« webdriver ç®¡ç†ç¤ºä¾‹ï¼‰ã€‚",
    content: `import tkinter as tk
from tkinter import ttk
from selenium import webdriver  # æ§åˆ¶æµè§ˆå™¨çš„æ ¸å¿ƒæ¨¡å—
from selenium.webdriver.chrome.service import Service  # ç®¡ç†ChromDriveræœåŠ¡
from webdriver_manager.chrome import ChromeDriverManager  # è‡ªåŠ¨ä¸‹è½½å¹¶ç®¡ç†ChromeDriver
from selenium.webdriver.common.by import By  # å®šä¹‰å…ƒç´ å®šä½æ–¹å¼
from selenium.webdriver.support.ui import WebDriverWait  # æ˜¾ç¤ºç­‰å¾…å·¥å…·
from selenium.webdriver.support import expected_conditions as EC  # å¸¸ç”¨ç­‰å¾…æ¡ä»¶
import time

import threading
from selenium.webdriver.common.keys import Keys

main_ç‰ˆæœ¬ = '1.0.0'
green_f = tk.Tk()
green_f.title(f'ç»¿æ¢µAI [{main_ç‰ˆæœ¬}]')
green_f.geometry('344x250')

Label1 = tk.Label(green_f, text='åˆå§‹åŒ–è¿›ç¨‹', font=('å¾®è½¯é›…é»‘ Light', 17))
Label1.place(x=20, y=25)
Label2 = tk.Label(green_f, text='è¾“å…¥æ¥è‡ªGoogle Chrameæµè§ˆå™¨çš„åœ°å€', font=('å¾®è½¯é›…é»‘', 13))
Label2.place(x=20, y=65)
entry1 = ttk.Entry(green_f, font=('å¾®è½¯é›…é»‘', 13))
entry1.place(x=20, y=145, height=32, width=220)
style = ttk.Style()
style.configure('TButton', font=('å¾®è½¯é›…é»‘', 13), height=32, width=7)
place = ''
ç‰ˆæœ¬ = ''
é¡ºåº = 0
word=''

def main():
   try:
    global place, ç‰ˆæœ¬, driver
    green_AIf = tk.Tk()

    def mu1():
        green_AIf.geometry('344x250')
        txt_edit.config(height=7,width=33)
        entry3.place(x=22,y=175,width=250,height=46)
        btnT.place(x=275,y=175,height=48,width=48)

    def mu2():
        green_AIf.geometry('544x450')
        txt_edit.config(height=18,width=55)
        entry3.place(x=22,y=390,width=445,height=52)
        btnT.place(x=471,y=390,height=53,width=51)
    def mu3():
        green_AIf.geometry('744x650')
        txt_edit.config(height=27,width=77)
        entry3.place(x=22,y=573,width=635,height=56)
        btnT.place(x=661,y=573,height=57,width=57)


    green_AIf.title(f'ç»¿æ¢µAI [{main_ç‰ˆæœ¬}]')
    entry3 = ttk.Entry(green_AIf, font=('å¾®è½¯é›…é»‘', 13))
    entry3.place(x=22, y=175, height=46, width=250)
    txt_edit = tk.Text(green_AIf, wrap=tk.WORD, width=33, font=('å¾®è½¯é›…é»‘', 13), height=7, undo=True)
    txt_edit.place(x=22, y=13)


    txt_edit.config(state=tk.NORMAL)
    txt_edit.delete('1.0', tk.END)
    txt_edit.config(state='disabled')
    # åˆ›å»ºScrollbarç»„ä»¶

    scrollbar = tk.Scrollbar(green_AIf, orient=tk.VERTICAL, command=txt_edit.yview)
    scrollbar.pack(side=tk.RIGHT, fill=tk.Y)

    # é…ç½®Textç»„ä»¶ä¸Scrollbarçš„å…³ç³»
    txt_edit['yscrollcommand'] = scrollbar.set
    chat_æ§åˆ¶=0
    chat_net_é¡ºåº=1
    chat_ç‰ˆæœ¬='DeepSeek-R1'
    def chat(value):
            nonlocal chat_ç‰ˆæœ¬
            # ç‚¹å‡»æ€è€ƒéƒ¨åˆ†æŒ‰é’®ï¼Œä½¿æ€è€ƒçš„éƒ¨åˆ†ä¹Ÿæ˜¾ç¤ºå‡ºæ¥
            try:



                button = driver.find_element(By.CSS_SELECTOR, "[class*='cos-icon cos-icon-change']")
                button.click()
                wait = WebDriverWait(driver, 10)


                # å®šä½æ‰€æœ‰classä¸º"input-capsules-model-list-item"çš„å…ƒç´ 
                all_items = wait.until(
                  EC.presence_of_all_elements_located(
                      (By.CLASS_NAME, "input-capsules-model-list-item")
                  )
                )

                # éå†å…ƒç´ å¯»æ‰¾ç›®æ ‡æŒ‰é’®
                for item in all_items:
                  # æ£€æŸ¥å…ƒç´ å†…æ˜¯å¦åŒ…å«"DeepSeek-V3æœ€æ–°ç‰ˆ"æ ‡é¢˜
                  title_element = item.find_element(
                      By.CLASS_NAME, "input-capsules-model-list-item-title"
                  )
                  print('value'+str(value))
                  
                  ç‰ˆæœ¬=chat_ç‰ˆæœ¬
                  print('ç‰ˆæœ¬'+str(ç‰ˆæœ¬))
                  if title_element.text == value:

                      # ç‚¹å‡»ç›®æ ‡æŒ‰é’®
                      item.click()
                      print(f"æˆåŠŸç‚¹å‡»{value}")
                      chat_ç‰ˆæœ¬=value
                      button = driver.find_element(By.CSS_SELECTOR, "[class*='cos-icon cos-icon-change']")
                      button.click()
                      break


                ç‰ˆæœ¬_List=['DeepSeek-R1','DeepSeek-V3']
                for i in range(len(ç‰ˆæœ¬_List)):
                  print(i)
                  if(ç‰ˆæœ¬_List[i]==ç‰ˆæœ¬):
                     file_menu2.entryconfig(i, label=f"${'{' }ç‰ˆæœ¬_List[i]}")
                     print(str(ç‰ˆæœ¬)+f'    ç‰ˆæœ¬1    {i}')
                     print(str(ç‰ˆæœ¬_List[i])+'     ç‰ˆæœ¬_List1')

                  if(value==ç‰ˆæœ¬_List[i]):
                     file_menu2.entryconfig(i, label=f"${'{' }ç‰ˆæœ¬_List[i]} âˆš")
                     print(str(value)+f'    ç‰ˆæœ¬2     {i}')
                     print(str(ç‰ˆæœ¬_List[i])+'     ç‰ˆæœ¬_List2')

            except Exception as e:
                      print(f'Error:\\n{e}')



    def net():
       nonlocal chat_net_é¡ºåº
       try:
            button = driver.find_element(By.CSS_SELECTOR,"[class*='cos-icon cos-icon-change']")
            button.click()
            button = driver.find_element(By.CSS_SELECTOR, "[class*='cos-switcher cos-sm']")
            button.click()
            chat_net_é¡ºåº+=1
            if(chat_net_é¡ºåº%2!=0):

               file_menu2.entryconfig(3, label="è”ç½‘æ¨¡å¼")
            else:
              file_menu2.entryconfig(3, label="è”ç½‘æ¨¡å¼ âˆš")
            button = driver.find_element(By.CSS_SELECTOR, "[class*='cos-icon cos-icon-change']")
            button.click()
       except Exception as e:

            print(f'Error:\\n{e}')
            pass


    def exchange():
        global word
        nonlocal chat_æ§åˆ¶
        try:
            try:
                txt_edit.config(state='normal')
                btnT.config(state='disabled')

                entry3.delete(0, tk.END)

                #åˆ·æ–°ç½‘é¡µ
                #driver.refresh()
                chat_æ§åˆ¶=1
                ok()
            except Exception as e:
                txt_edit.insert(tk.END,f'æ— æ³•é‡æ–°å›å¤ï¼Œè¯·ç¨åé‡è¯• \\n{e}')
                green_AIf.update()
            finally:
                txt_edit.config(state='normal')
                btnT.config(state='disabled')
                green_AIf.update()


        except Exception as e:
            txt_edit.insert(tk.END,f'æ— æ³•é‡æ–°å›å¤ï¼Œè¯·ç¨åé‡è¯• \\n{e}')
            green_AIf.update()
        finally:
            btnT.config(state='normal')
            txt_edit.config(state='disabled')
            chat_æ§åˆ¶=0
    chat_thought_é¡ºåº=1
    def thought():
       nonlocal chat_thought_é¡ºåº
       try:
          button = driver.find_element(By.CSS_SELECTOR,"[class*='internet-search-icon']")
          button.click()
          chat_thought_é¡ºåº+=1
          if(chat_thought_é¡ºåº%2!=0):

            file_menu2.entryconfig(5, label="æ·±åº¦æ€è€ƒ")
          else:
           file_menu2.entryconfig(5, label="æ·±åº¦æ€è€ƒ âˆš")
       except Exception as e:
          print(f'{e}')


    # åˆ›å»ºèœå•æ 
    menu_bar = tk.Menu(green_AIf)
    # æ–‡ä»¶èœå•
    file_menu = tk.Menu(menu_bar, tearoff=0)
    file_menu2 = tk.Menu(menu_bar, tearoff=0)
    file_menu3 = tk.Menu(menu_bar, tearoff=0)
    file_menu.add_command(label="ğŸ—˜ é‡æ–°å›å¤", command=exchange)


    file_menu2.add_command(label="DeepSeek-R1 âˆš", command=lambda x='DeepSeek-R1': chat(x))
    file_menu2.add_command(label="DeepSeek-V3",  command=lambda x='DeepSeek-V3': chat(x))


    file_menu2.add_separator()
    file_menu2.add_command(label="è”ç½‘æ¨¡å¼", command=net)

    file_menu2.add_separator()
    file_menu2.add_command(label="æ·±åº¦æœç´¢", command=thought)


    file_menu3.add_command(label="344x250", command=mu1)
    file_menu3.add_command(label="644x450", command=mu2)
    file_menu3.add_command(label="744x650", command=mu3)


    file_menu.entryconfig('ğŸ—˜ é‡æ–°å›å¤',  state='disabled')
    menu_bar.add_cascade(label="ç¼–è¾‘", menu=file_menu)
    menu_bar.add_cascade(label="ç‰ˆæœ¬", menu=file_menu2)
    menu_bar.add_cascade(label="çª—å£", menu=file_menu3)


    # è®¾ç½®èœå•æ åˆ°çª—å£
    green_AIf.config(menu=menu_bar)







    ok_æ¬¡=0
    def ok_son():
        nonlocal entry3,chat_æ§åˆ¶,ok_æ¬¡
        global driver,word
        try:
            if(chat_æ§åˆ¶)==0:
               word = entry3.get()
            print(chat_æ§åˆ¶)
            if word == '':
                txt_edit.config(state='disabled')
                btnT.config(state='normal')
                return
            
            # è®¿é—®ç½‘å€

            if chat_æ§åˆ¶==0:
                print(1)
                txt_edit.config(state='normal')
                btnT.config(state='disabled')
                
                #txt_edit.delete('1.0', tk.END)
                txt_edit.insert(tk.END, f'æˆ‘æå‡ºçš„é—®é¢˜:\\n{word}\\n\\n')
            else:
                txt_edit.config(state='normal')
                btnT.config(state='disabled')
                txt_edit.insert(tk.END,'\\n\\né‡æ–°å›ç­”:\\n')
            txt_edit.config(state='normal')
            btnT.config(state='disabled')

            entry3.delete(0, tk.END)


            #ä½¿ç”¨afterèƒ½è§£å†³æ— å“åº”é—®é¢˜

            green_AIf.update()

            # ğŸ‘‡ å…³é”®ï¼šå¯¹ word è¿›è¡Œ URL ç¼–ç ï¼ˆå†™ç½‘å€çš„æ—¶å€™å¯ç”¨ï¼‰
            ##                from urllib.parse import quote
            ##                word = quote(word, safe='')
            ##                url = f'https://chat.baidu.com/search?word={word}ã€‚&dyTabStr=MCwxMiwzLDEsMiwxMyw3LDYsNSw5&pd=csaitab&setype=csaitab&extParamsJson=%7B%22enter_type%22%3A%22search_a_tab%22%2C%22sa%22%3A%22vs_tab%22%2C%22apagelid%22%3A%229405376116451188355%22%2C%22ori_lid%22%3A%229405376116451188355%22%7D'
            ##
            ##                # æ’å…¥æ–‡æœ¬å†…å®¹
            ##                txt_edit.insert(tk.END, f'æ­£åœ¨è®¿é—®:{url}\\n')
            txt_edit.insert(tk.END, f'æ­£åœ¨å†™å…¥:{word}\\n')
            # å®šä½è¾“å…¥æ¡†å…ƒç´ ï¼ˆæ”¯æŒå¤šç§å®šä½æ–¹å¼)
            ok_æ¬¡+=1
            if(ok_æ¬¡==1):
               input_element = driver.find_element(By.ID,"chat-textarea")  # é€šè¿‡IDå®šä½
            else:
               input_element = driver.find_element(By.ID,"chat-input-box")
            # input_element = driver.find_element_by_name("q")  # é€šè¿‡nameå±æ€§å®šä½
            # input_element = driver.find_element_by_xpath("//input[@class='search']")  # é€šè¿‡XPathå®šä½
            print('æ£€æµ‹OK')
            # åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥æ–‡å­—
            input_element.send_keys(word)
            print('è¾“å…¥OK')
            # æ¨¡æ‹Ÿå›è½¦é”®æäº¤
            input_element.send_keys(Keys.RETURN)                # åˆ·æ–°è®©å…¶æ˜¾ç¤º
            green_AIf.update()
            print('å›æ’¤OK')
            #driver.get(url)  # æ‰“å¼€ç½‘é¡µ



            try:
                txt_edit.insert(tk.END, f'æ€è€ƒä¸­~\\n')
                green_AIf.update()
                # ç­‰å¾…ç¬¬ä¸€ä¸ªAIæ®µè½å‡ºç°
                try:
                    WebDriverWait(driver,25, 0.3).until(
                        # ä½¿ç”¨ç¨³å®šçš„é€‰æ‹©å™¨
                        # class=è¿™ç§æœ€ç²¾ç¡®ï¼Œä¸æ˜¯åªè¦åŒ…å«è¿™ä¸ªå…ƒç´ åå°±è¡Œ
                        EC.presence_of_element_located((By.CSS_SELECTOR, "[class*='marklang-paragraph']"))

                    )
                except:
                    if(chat_æ§åˆ¶!=0):
                       txt_edit.insert(tk.END, f'çª—å£è«åå‡ºç°äº†é—®é¢˜ï¼Œè¯·é‡æ–°è¿›å…¥~\\n')
                       return
                    else:
                       txt_edit.insert(tk.END, f'çª—å£è«åå‡ºç°äº†é—®é¢˜ï¼Œæ­£åœ¨é‡è¯•~\\n')

                       green_AIf.update()
                       exchange()
                    

                txt_edit.insert(tk.END, f'æ­£åœ¨ç»„ç»‡å›ç­”~\\n')
                green_AIf.update()

                # ç­‰å¾…è‡³å°‘2ä¸ªæ®µè½å‡ºç°ï¼ˆç¡®ä¿å…¶å†…å®¹å®Œæ•´ï¼Œé¿å…é—æ¼ï¼‰ä½¿ç”¨æœ€å¼ºå¤§çš„pythoné€‰æ‹©å™¨
                WebDriverWait(driver, 180, 0.3).until(
                    lambda d: len(d.find_elements(By.CSS_SELECTOR, "[class*='marklang']")) >= 1

                )
            except Exception as e:
                txt_edit.insert(tk.END, f'é”™è¯¯,è¯·é‡è¯•~\\n{e}\\n')
                green_AIf.update()
                return


            # æ£€æŸ¥æ˜¯å¦å…¨éƒ¨ç”Ÿæˆå‡ºæ¥
            try:

                WebDriverWait(driver, 180, 0.3).until(
                    #untilåªèƒ½æœ‰ä¸€ä¸ªç­‰å¾…å€¼ä½†æ˜¯any_of/all_ofå¯ä»¥æœ‰å¤šä¸ª
                   EC.all_of(
                        # ä½¿ç”¨ç¨³å®šçš„é€‰æ‹©å™¨
                        # class=è¿™ç§æœ€ç²¾ç¡®ï¼Œä¸æ˜¯åªè¦åŒ…å«è¿™ä¸ªå…ƒç´ åå°±è¡Œ
                        # class*=è¿™ç§åªè¦éƒ¨åˆ†è¾¾æ ‡å³å¯å¯ä»¥é˜²æ­¢å› ç½‘é¡µä»£ç æ›´æ–°é€ æˆçš„é”™è¯¯
                        EC.presence_of_element_located((By.CSS_SELECTOR, "[class*='cos-icon cos-icon-thumbs-down']")),
                        EC.presence_of_element_located((By.CSS_SELECTOR, "[class*='cos-icon cos-icon-exchange']")),
                        EC.presence_of_element_located((By.CSS_SELECTOR, "[class*='cos-icon cos-icon-thumbs-up']"))
                   )
                )
            except Exception as e:
                txt_edit.insert(tk.END, f'ç³»ç»Ÿè¶…æ—¶~\\n{e}\\n')
                green_AIf.update()
            txt_edit.insert(tk.END, f'å³å°†ç”Ÿæˆå›å¤~\\n')
            green_AIf.update()

            time.sleep(1.5)  # ç»™ JavaScript ç•™å‡ºæ—¶é—´å®Œæˆæ¸²æŸ“


            # æ»šåŠ¨åˆ°åº•éƒ¨ï¼Œè§¦å‘æ‰€æœ‰å†…å®¹æ¸²æŸ“
            driver.execute_script("window.scrollTo(0, document.body.scrollHeight);")
            time.sleep(1.5)
            # ç‚¹å‡»æ€è€ƒéƒ¨åˆ†æŒ‰é’®ï¼Œä½¿æ€è€ƒçš„éƒ¨åˆ†ä¹Ÿæ˜¾ç¤ºå‡ºæ¥
            try:
                button = driver.find_element(By.CSS_SELECTOR, "[class*='cos-icon cos-icon-down']")
                button.click()
            except:
                print('æ— æ€è€ƒè¿›ç¨‹~')
            # ä½¿ç”¨ Selenium ç›´æ¥æŸ¥æ‰¾æ‰€æœ‰ AI æ®µè½
            paragraphs = driver.find_elements(By.CSS_SELECTOR, "[class*='marklang-paragraph']")
           # print(len(driver.find_elements(By.CSS_SELECTOR, "[class='marklang']")))

            # éå†å¹¶è¾“å‡ºæ¯ä¸€æ®µå†…å®¹

            for i, p in enumerate(paragraphs, 0):
                try:
                    # å®æ—¶æ‰¾æœ€æ–°çš„å…ƒç´ 
                    p = driver.find_elements(By.CSS_SELECTOR, "[class*='marklang-paragraph']")[i]
                    text = p.text.strip()  # å»é™¤é¦–å°¾ç©ºç™½å­—ç¬¦
                    if text:  # é¿å…è¾“å‡ºç©ºæ®µè½
                        txt_edit.insert(tk.END, f'{text}\\n')
                        green_AIf.update()
                except Exception as e:
                    txt_edit.insert(tk.END, f'å‘ç”Ÿé”™è¯¯:{e}\\n')
                    green_AIf.update()
                else:
                    file_menu.entryconfig('ğŸ—˜ é‡æ–°å›å¤',  state='normal')
        except Exception as e:
            txt_edit.insert(tk.END, f'å‘ç”Ÿé”™è¯¯:{e}\\n')
            green_AIf.update()
        finally:
            # é‡Šæ”¾å†…å­˜å’Œç³»ç»Ÿèµ„æº
            chat_æ§åˆ¶=0
            txt_edit.insert(tk.END, f'å›ç­”å·²ç»“æŸ~\\n\\n\\n')
            btnT.config(state='normal')
            file_menu.entryconfig('ğŸ—˜ é‡æ–°å›å¤',  state='normal')
            txt_edit.config(state='disabled')
            green_AIf.update()

    ##
    def close():
        # print(1)
        try:
            driver.quit()
            green_AIf.destroy()
        except:
            pass
    def ok():
      threading.Thread(target=ok_son, daemon=True).start()
    # ç»‘å®šçª—å£å…³é—­äº‹ä»¶åˆ°è‡ªå®šä¹‰å‡½æ•°
    green_AIf.protocol("WM_DELETE_WINDOW", close)

    btnT = ttk.Button(green_AIf, style='TButton', text='''å‘é€''', command=ok)
    btnT.place(x=275, y=175, height=48, width=48)
    mu1()
    green_AIf.mainloop()
   except Exception as e:
       print(f'Error:{e}')`
  },
  {
    name: "éçˆ¬å–æ–¹å¼.py",
    type: "script",
    platform: "Cross-platform",
    desc: "è½»é‡çš„å…³é”®å­—åŒ¹é…æœ¬åœ°é—®ç­”è„šæœ¬ï¼Œé€‚åˆç¦»çº¿æµ‹è¯•ä¸ç¤ºä¾‹ã€‚",
    content: `import time
import random

# ç”¨æˆ·è‡ªå®šä¹‰é—®ç­”åº“ï¼ˆå¯ä»¥ä¸æ–­æ‰©å±•ï¼‰
qa_library = {
    "ä½ å¥½": ["ä½ å¥½å‘€ï¼", "æ‚¨å¥½ï¼Œæœ‰ä»€ä¹ˆæƒ³é—®çš„ï¼Ÿ"],
    "ä½ æ˜¯è°": ["æˆ‘æ˜¯ä¸€ä¸ªç”¨Pythonåšçš„ç®€æ˜“AIåŠ©æ‰‹ã€‚"],
    "æ—¶é—´": [lambda: "ç°åœ¨æ—¶é—´æ˜¯ï¼š" + time.strftime("%Y-%m-%d %H:%M:%S", time.localtime())],
    "æ—¥æœŸ": [lambda: "ä»Šå¤©æ˜¯ï¼š" + time.strftime("%Y-%m-%d", time.localtime())],
    "å¤©æ°”": ["ä»Šå¤©å¤©æ°”ä¸é”™ï¼", "å¤©æ°”æ™´æœ—ï¼Œé€‚åˆå­¦ä¹ Pythonï¼"],
    "å¸®åŠ©": ["ä½ å¯ä»¥é—®æˆ‘ï¼šä½ å¥½ã€æ—¶é—´ã€è®¡ç®—ã€å¤©æ°”ç­‰é—®é¢˜ã€‚"]
}

# å¯¹è¯å†å²
history = []

def simple_math(sentence):
    # æ”¯æŒåŠ æ³•ã€å‡æ³•ã€ä¹˜æ³•ã€é™¤æ³•
    try:
        expression = sentence.replace('åŠ ', '+').replace('å‡', '-').replace('ä¹˜', '*').replace('é™¤', '/')
        result = eval(expression)
        return f"è®¡ç®—ç»“æœæ˜¯ï¼š{result}"
    except:
        return "æŠ±æ­‰ï¼Œç›®å‰åªæ”¯æŒç®€å•çš„åŠ å‡ä¹˜é™¤è¿ç®—ã€‚"

def ai_answer(user_input):
    user_input = user_input.strip().lower()
    # å…³é”®è¯åŒ¹é…
    for key in qa_library:
        if key in user_input:
            answer = random.choice(qa_library[key])
            if callable(answer):
                return answer()
            return answer
    # æ•°å­¦è®¡ç®—
    if any(op in user_input for op in ['åŠ ', 'å‡', 'ä¹˜', 'é™¤', '+', '-', '*', '/']):
        return simple_math(user_input)
    # æ—¶é—´å’Œæ—¥æœŸ
    if "å‡ ç‚¹" in user_input or "æ—¶é—´" in user_input:
        return time.strftime("%Y-%m-%d %H:%M:%S", time.localtime())
    if "æ—¥æœŸ" in user_input or "ä»Šå¤©" in user_input:
        return time.strftime("%Y-%m-%d", time.localtime())
    # è¾“å‡ºå†å²
    if "å†å²" in user_input or "å¯¹è¯" in user_input:
        return "å†å²å¯¹è¯ï¼š" + "; ".join(history[-5:])
    # é»˜è®¤å›ç­”
    return "æŠ±æ­‰ï¼Œæˆ‘è¿˜ä¸å¤ªæ‡‚ä½ çš„é—®é¢˜ï¼Œå¯ä»¥é—®æˆ‘æ—¶é—´ã€è®¡ç®—ã€å¤©æ°”ã€å†å²ç­‰~"

if __name__ == "__main__":
    print("æ¬¢è¿ä½“éªŒPythonç®€æ˜“AIåŠ©æ‰‹ï¼ï¼ˆè¾“å…¥ exit ç»“æŸï¼‰")
    while True:
        user_input = input("ä½ è¯´ï¼š")
        if user_input.lower() in ("exit", "quit", "bye"):
            print("AIåŠ©æ‰‹ï¼šå†è§ï¼")
            break
        history.append(user_input)
        print("AIåŠ©æ‰‹ï¼š", ai_answer(user_input))`
  }
];

/* ---------------------- å°å·¥å…· ---------------------- */
const $ = sel => document.querySelector(sel);
const g = id => document.getElementById(id);

async function sha1Hex(str){
  const buf = new TextEncoder().encode(str);
  const hash = await crypto.subtle.digest('SHA-1', buf);
  return Array.from(new Uint8Array(hash)).map(b => b.toString(16).padStart(2,'0')).join('');
}

/* ä¸‹è½½ç»Ÿè®¡ä¿å­˜åœ¨ localStorage */
function getCounts(){ try { return JSON.parse(localStorage.getItem('dl_counts')||'{}') } catch { return {} } }
function incCount(name){ const c=getCounts(); c[name]=(c[name]||0)+1; localStorage.setItem('dl_counts',JSON.stringify(c)); }

/* ---------------------- æ¸²æŸ“ä¸äº¤äº’ ---------------------- */

function makeCard(f, idx){
  const div = document.createElement('article');
  div.className='card';
  div.innerHTML = `
    <div class="meta">
      <div class="tag">${f.type.toUpperCase()}</div>
      <div style="flex:1">
        <p class="name">${escapeHtml(f.name)}</p>
        <div class="desc">${escapeHtml(f.desc)}</div>
        <div style="margin-top:8px;display:flex;gap:8px;align-items:center;flex-wrap:wrap;">
          <span class="pill">${f.platform}</span>
          <span class="small" id="size-${idx}">è®¡ç®—å¤§å°â€¦</span>
          <span class="count" id="count-${idx}"></span>
        </div>
      </div>
      <div class="actions">
        <button class="btn primary" data-download="${idx}">ä¸‹è½½</button>
        <button class="btn" data-view="${idx}">é¢„è§ˆ</button>
      </div>
    </div>
  `;
  // size & count
  const sizeEl = div.querySelector(`#size-${idx}`);
  const countEl = div.querySelector(`#count-${idx}`);
  const blob = new Blob([f.content], {type:'text/plain;charset=utf-8'});
  sizeEl.textContent = blob.size < 1024 ? `${blob.size} B` : `${(blob.size/1024).toFixed(1)} KB`;
  const counts = getCounts(); countEl.textContent = `ä¸‹è½½ ${counts[f.name]||0} æ¬¡`;
  // handlers
  div.querySelector('[data-download]').onclick = ()=>downloadFile(idx);
  div.querySelector('[data-view]').onclick = ()=>openModal(idx);
  return div;
}

function render(list){
  const grid = g('grid');
  grid.innerHTML = '';
  list.forEach((f,i)=> grid.appendChild(makeCard(f,i)));
}

/* filtering & search & sort */
function applyFilters(){
  const q = g('search').value.trim().toLowerCase();
  const filter = g('filter').value;
  const sort = g('sort').value;
  let list = FILES.filter(f=>{
    if(filter!=='all' && f.type!==filter) return false;
    if(!q) return true;
    return (f.name+f.desc+f.platform).toLowerCase().includes(q);
  });
  if(sort==='name') list.sort((a,b)=>a.name.localeCompare(b.name));
  else if(sort==='size') list.sort((a,b)=> (new Blob([a.content]).size) - (new Blob([b.content]).size) );
  else if(sort==='downloads'){
    const counts = getCounts();
    list.sort((a,b)=>(counts[b.name]||0)-(counts[a.name]||0));
  }
  render(list);
}

/* download single (supports content or url) */
async function downloadFile(i){
  const f = FILES[i];
  incCount(f.name);
  applyFilters(); // update counts
  if(f.url){
    // external URL â€” direct navigate (good for large binaries)
    const a = document.createElement('a');
    a.href = f.url; a.download = f.name; document.body.appendChild(a); a.click(); a.remove();
    return;
  }
  const blob = new Blob([f.content], {type: f.type==='script' ? 'text/x-python;charset=utf-8' : 'application/octet-stream'});
  // compute checksum async and show in console (nice-to-have)
  sha1Hex(f.content).then(h=> console.log(`${f.name} SHA1: ${h}`)).catch(()=>{});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href = url; a.download = f.name; document.body.appendChild(a); a.click(); a.remove();
  setTimeout(()=>URL.revokeObjectURL(url),5000);
}

/* preview modal */
function openModal(i){
  const f = FILES[i];
  g('modName').textContent = f.name;
  g('modTitle').textContent = `${f.type.toUpperCase()} é¢„è§ˆ`;
  g('modContent').textContent = f.content;
  g('modal').style.display = 'flex';
  g('modDownload').onclick = ()=>downloadFile(i);
  g('modCopy').onclick = ()=>{ navigator.clipboard.writeText(f.content).then(()=>showToast()) };
}
g('modClose').onclick = ()=> g('modal').style.display='none';

/* zip all using JSZip */
async function downloadAll(){
  const zip = new JSZip();
  FILES.forEach(f=> zip.file(f.name, f.content));
  const blob = await zip.generateAsync({type:'blob',compression:'DEFLATE'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href = url; a.download = 'python-files.zip'; document.body.appendChild(a); a.click(); a.remove();
  setTimeout(()=>URL.revokeObjectURL(url),5000);
}

/* helpers */
function escapeHtml(s){ return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;') }
function showToast(){ const t=g('toast'); t.style.display='block'; setTimeout(()=>t.style.display='none',1300) }

/* ---------------------- ç”¨æˆ·è®¤è¯ ---------------------- */
// æ¨¡æ‹Ÿç”¨æˆ·æ•°æ®å­˜å‚¨ (åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™åº”è¯¥åœ¨æœåŠ¡å™¨ç«¯)
const USERS_KEY = 'registered_users';
const CURRENT_USER_KEY = 'current_user';

// åˆå§‹åŒ–ç”¨æˆ·æ•°æ®
function initUsers() {
    if (!localStorage.getItem(USERS_KEY)) {
        localStorage.setItem(USERS_KEY, JSON.stringify({}));
    }
}
initUsers();

// æ˜¾ç¤º/éšè—è®¤è¯æ¨¡æ€æ¡†
function showAuthModal(isLogin = true) {
    const modal = g('authModal');
    const title = g('authModalTitle');
    const submitBtn = g('authSubmitBtn');
    const toggleLink = g('toggleAuthMode');
    const messageEl = g('authMessage');
    
    messageEl.textContent = ''; // æ¸…ç©ºæ¶ˆæ¯
    g('authUsername').value = '';
    g('authPassword').value = '';
    
    if (isLogin) {
        title.textContent = 'ç”¨æˆ·ç™»å½•';
        submitBtn.textContent = 'ç™»å½•';
        toggleLink.textContent = 'ç«‹å³æ³¨å†Œ';
        toggleLink.onclick = () => showAuthModal(false);
    } else {
        title.textContent = 'ç”¨æˆ·æ³¨å†Œ';
        submitBtn.textContent = 'æ³¨å†Œ';
        toggleLink.textContent = 'ç«‹å³ç™»å½•';
        toggleLink.onclick = () => showAuthModal(true);
    }
    modal.style.display = 'block';
}

function hideAuthModal() {
    g('authModal').style.display = 'none';
}

// åˆ‡æ¢è®¤è¯æ¨¡å¼
g('toggleAuthMode').addEventListener('click', function() {
    const isLogin = g('authModalTitle').textContent === 'ç”¨æˆ·ç™»å½•';
    showAuthModal(!isLogin);
});

// å¤„ç†è®¤è¯è¡¨å•æäº¤
g('authForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const username = g('authUsername').value.trim();
    const password = g('authPassword').value;
    const isLogin = g('authModalTitle').textContent === 'ç”¨æˆ·ç™»å½•';
    const messageEl = g('authMessage');
    
    if (!username || !password) {
        messageEl.textContent = 'ç”¨æˆ·åå’Œå¯†ç ä¸èƒ½ä¸ºç©º';
        return;
    }
    
    const users = JSON.parse(localStorage.getItem(USERS_KEY));
    
    if (isLogin) {
        // ç™»å½•é€»è¾‘
        if (users[username] && users[username] === password) {
            // ç™»å½•æˆåŠŸ
            localStorage.setItem(CURRENT_USER_KEY, username);
            updateAuthUI();
            hideAuthModal();
            messageEl.textContent = '';
        } else {
            messageEl.textContent = 'ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯';
        }
    } else {
        // æ³¨å†Œé€»è¾‘
        if (users[username]) {
            messageEl.textContent = 'ç”¨æˆ·åå·²å­˜åœ¨';
        } else {
            // æ³¨å†Œæ–°ç”¨æˆ·
            users[username] = password;
            localStorage.setItem(USERS_KEY, JSON.stringify(users));
            messageEl.style.color = '#34d399'; // ç»¿è‰²æˆåŠŸæ¶ˆæ¯
            messageEl.textContent = 'æ³¨å†ŒæˆåŠŸï¼Œè¯·ç™»å½•';
            // è‡ªåŠ¨åˆ‡æ¢åˆ°ç™»å½•
            setTimeout(() => showAuthModal(true), 1500);
        }
    }
});

// ç™»å‡º
function logout() {
    localStorage.removeItem(CURRENT_USER_KEY);
    updateAuthUI();
}

// æ›´æ–°è®¤è¯UI (æ˜¾ç¤ºç™»å½•/æ³¨å†ŒæŒ‰é’® æˆ– ç”¨æˆ·ä¿¡æ¯)
function updateAuthUI() {
    const currentUser = localStorage.getItem(CURRENT_USER_KEY);
    const authButtons = g('authButtons');
    const userInfo = g('userInfo');
    const usernameDisplay = g('usernameDisplay');
    
    if (currentUser) {
        authButtons.style.display = 'none';
        userInfo.style.display = 'flex';
        usernameDisplay.textContent = currentUser;
    } else {
        authButtons.style.display = 'flex';
        userInfo.style.display = 'none';
        usernameDisplay.textContent = '';
    }
}

// é¡µé¢åŠ è½½æ—¶æ£€æŸ¥ç™»å½•çŠ¶æ€
document.addEventListener('DOMContentLoaded', function() {
    updateAuthUI();
});

// äº‹ä»¶ç»‘å®š
g('search').addEventListener('keydown', e=>{ if(e.key==='Enter') applyFilters() });
g('filter').addEventListener('change', applyFilters);
g('sort').addEventListener('change', applyFilters);
g('downloadAllBtn').addEventListener('click', downloadAll);
g('refreshBtn').addEventListener('click', ()=>{ location.reload() });
g('readmeBtn').addEventListener('click', ()=> {
  // simple modal readme
  g('modName').textContent='è¯´æ˜';
  g('modTitle').textContent='ç«™ç‚¹è¯´æ˜';
  g('modContent').textContent = `è¯´æ˜ï¼š
- ç‚¹å‡»â€œä¸‹è½½â€ä¼šæŠŠå†…ç½®å†…å®¹å¦å­˜ä¸ºæ–‡ä»¶ã€‚
- è‹¥è¦åˆ†å‘çœŸå®å®‰è£…åŒ…ï¼ŒæŠŠå¯¹åº”æ¡ç›®æ›¿æ¢ä¸º { url: "https://your.host/path/to/file.exe" }ï¼Œå¹¶æŠŠ content ç•™ç©ºæˆ–ç®€çŸ­è¯´æ˜ã€‚
- æœ¬é¡µé¢ä¸ºå•æ–‡ä»¶é™æ€åˆ†å‘æ¨¡æ¿ï¼Œå¯ä¸Š GitHub Pages æˆ–ä»»æ„é™æ€ä¸»æœºéƒ¨ç½²ã€‚`;
  g('modal').style.display='flex';
});
g('loginBtn').addEventListener('click', () => showAuthModal(true));
g('registerBtn').addEventListener('click', () => showAuthModal(false));
g('logoutBtn').addEventListener('click', logout);
g('authClose').addEventListener('click', hideAuthModal);
// ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
window.addEventListener('click', function(event) {
    const modal = g('authModal');
    if (event.target == modal) {
        hideAuthModal();
    }
});

// åˆå§‹æ¸²æŸ“
document.addEventListener('DOMContentLoaded', applyFilters);

</script>
</body>
</html>



